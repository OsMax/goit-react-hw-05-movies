{"version":3,"file":"static/js/790.4f9ba6f4.chunk.js","mappings":"sKAAA,IAIA,EAJkB,+BAIlB,EAHgB,4C,SCqChB,OACEA,YApCF,WACE,OAAOC,EAAAA,EAAAA,IAAA,UACFC,EADE,6CACmDA,GAE3D,EAiCCC,aA/BF,SAAsBC,GACpB,OAAOH,EAAAA,EAAAA,IAAA,UACFC,EADE,+BACqCE,EADrC,qDACuFF,GAE/F,EA4BCG,gBA1BF,SAAyBC,GACvB,OAAOL,EAAAA,EAAAA,IAAA,UACFC,EADE,kBACwBI,EADxB,0BACkDJ,GAE1D,EAuBCK,cArBF,SAAuBD,GACrB,OAAOL,EAAAA,EAAAA,IAAA,UACFC,EADE,kBACwBI,EADxB,kCAC0DJ,GAElE,EAkBCM,iBAhBF,SAA0BF,GACxB,OAAOL,EAAAA,EAAAA,IAAA,UACFC,EADE,kBACwBI,EADxB,yCACiEJ,GAEzE,E,2EC9BD,EAA4B,8BAA5B,EAAkE,0BAAlE,EAAmG,yBAAnG,EAAmI,yBAAnI,EAAkK,wBAAlK,EAAsM,8B,SCwCtM,EAtCmB,SAAC,GAA0B,IAAxBO,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,OACxBC,GAAWC,EAAAA,EAAAA,MACjB,OACE,iBAAKC,UAAWC,EAAhB,UACGL,GACD,eAAII,UAAWC,EAAf,SACGJ,EAAOK,KAAI,SAAAC,GACV,OACE,eAAmBH,UAAWC,EAA9B,UACE,UAAC,KAAD,CACEG,GAAE,kBAAaD,EAAME,IACrBC,MAAO,CAAEC,KAAMT,GACfE,UAAWC,EAHb,WAKE,gBACED,UAAWC,EACXO,IACEL,EAAMM,YAAN,0CACuCN,EAAMM,aACzCC,EAAQ,KAEdC,IAAKR,EAAMS,SAEb,iBAAKZ,UAAWC,EAAhB,WACE,wBAAKE,EAAMS,QACVT,EAAMU,eACL,mCAAS,IAAIC,KAAKX,EAAMU,cAAcE,cAAtC,cAlBCZ,EAAME,GAwBlB,QAIR,C,4HCtCD,EAA8B,4BAA9B,EAAiE,qBAAjE,EAA8F,sBAA9F,EAA6H,uBAA7H,EAAkK,4B,SC2DlK,EApDe,WACb,OAA4BW,EAAAA,EAAAA,UAAS,IAArC,eAAOnB,EAAP,KAAeoB,EAAf,KACA,GAAsCC,EAAAA,EAAAA,MAAtC,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KACM/B,EAAQ4B,EAAYI,IAAI,SAE9BC,EAAAA,EAAAA,YAAU,WAER,GADAF,GAAW,IACN/B,EAIH,OAHA6B,EAAe,CAAC,GAChBE,GAAW,QACXL,EAAU,IAGZQ,EAAAA,EAAAA,aAAiBlC,GACdmC,MAAK,SAAAC,GACJV,EAAUU,EAAQC,KAAKD,QACxB,IACAE,SAAQ,WACPP,GAAW,EACZ,GACJ,GAAE,CAAC/B,IAMJ,OACE,iCACE,kBAAMuC,SANO,SAAAC,GACfA,EAAEC,iBACFZ,EAAe,CAAEa,KAAMF,EAAEG,cAAcC,WAAWC,OACnD,EAG6BpC,UAAWC,EAArC,WACE,kBACEgC,KAAK,aACLI,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZxC,UAAWC,KAEb,mBAAQoC,KAAK,SAASrC,UAAWC,EAAjC,UACE,iBAAMD,UAAWC,EAAjB,yBAGHoB,IAAW,SAACoB,EAAA,EAAD,IACX5C,EAAO6C,OAAS,IACf,SAACC,EAAA,EAAD,CAAY9C,OAAQA,EAApB,UACE,eAAIG,UAAWC,EAAf,gCAKT,C","sources":["components/GetApi/consts.js","components/GetApi/GetApi.js","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.js","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.js"],"sourcesContent":["const MAIN_HOST = 'https://api.themoviedb.org/3';\nconst API_KEY = '&api_key=6ab9b39d97ad84b66bbf0073e6af1a4c';\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { MAIN_HOST, API_KEY };\n","import consts from './consts';\nimport axios from 'axios';\n\nfunction getTrending() {\n  return axios.get(\n    `${consts.MAIN_HOST}/trending/movie/day?language=en-US${consts.API_KEY}`\n  );\n}\n\nfunction searchMovies(query) {\n  return axios.get(\n    `${consts.MAIN_HOST}/search/movie?query=${query}&include_adult=false&language=en-US&page=1${consts.API_KEY}`\n  );\n}\n\nfunction getMoviesDetail(moviesId) {\n  return axios.get(\n    `${consts.MAIN_HOST}/movie/${moviesId}?language=en-US${consts.API_KEY}`\n  );\n}\n\nfunction getMoviesCast(moviesId) {\n  return axios.get(\n    `${consts.MAIN_HOST}/movie/${moviesId}/credits?language=en-US${consts.API_KEY}`\n  );\n}\n\nfunction getMoviesRevievs(moviesId) {\n  return axios.get(\n    `${consts.MAIN_HOST}/movie/${moviesId}/reviews?language=en-US&page=1${consts.API_KEY}`\n  );\n}\n\n// function rebuildFilter(filter) {\n//   return filter.split(' ').join('+');\n// }\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  getTrending,\n  searchMovies,\n  getMoviesDetail,\n  getMoviesCast,\n  getMoviesRevievs,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MoviesList_container__0JGj2\",\"lists\":\"MoviesList_lists__GaFhF\",\"list\":\"MoviesList_list__0Owr9\",\"link\":\"MoviesList_link__8rTGX\",\"img\":\"MoviesList_img__v4jFC\",\"titleCont\":\"MoviesList_titleCont__TUaai\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './MoviesList.module.css';\n\nconst MoviesList = ({ children, movies }) => {\n  const location = useLocation();\n  return (\n    <div className={css.container}>\n      {children}\n      <ul className={css.lists}>\n        {movies.map(movie => {\n          return (\n            <li key={movie.id} className={css.list}>\n              <Link\n                to={`/movies/${movie.id}`}\n                state={{ from: location }}\n                className={css.link}\n              >\n                <img\n                  className={css.img}\n                  src={\n                    movie.poster_path\n                      ? `https://image.tmdb.org/t/p/w300/${movie.poster_path}`\n                      : require('../../images/no-img.jpg')\n                  }\n                  alt={movie.title}\n                />\n                <div className={css.titleCont}>\n                  <h3>{movie.title}</h3>\n                  {movie.release_date && (\n                    <h3>{`(${new Date(movie.release_date).getFullYear()})`}</h3>\n                  )}\n                </div>\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"searchTitle\":\"Movies_searchTitle__Byemq\",\"form\":\"Movies_form__4ow+Z\",\"input\":\"Movies_input__KrUqs\",\"button\":\"Movies_button__GcIka\",\"buttonLabel\":\"Movies_buttonLabel__oGhIW\"};","/* eslint-disable react-hooks/exhaustive-deps */\nimport API from 'components/GetApi/GetApi';\nimport Loader from 'components/Loader/Loader';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParam, setSearchParam] = useSearchParams();\n  const [loading, setLoading] = useState(false);\n  const query = searchParam.get('name');\n\n  useEffect(() => {\n    setLoading(true);\n    if (!query) {\n      setSearchParam({});\n      setLoading(false);\n      setMovies([]);\n      return;\n    }\n    API.searchMovies(query)\n      .then(results => {\n        setMovies(results.data.results);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, [query]);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    setSearchParam({ name: e.currentTarget.serchInput.value });\n  };\n  return (\n    <>\n      <form onSubmit={onSubmit} className={css.form}>\n        <input\n          name=\"serchInput\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          className={css.input}\n        />\n        <button type=\"submit\" className={css.button}>\n          <span className={css.buttonLabel}>Search</span>\n        </button>\n      </form>\n      {loading && <Loader />}\n      {movies.length > 0 && (\n        <MoviesList movies={movies}>\n          <h2 className={css.searchTitle}>Search result:</h2>\n        </MoviesList>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["getTrending","axios","consts","searchMovies","query","getMoviesDetail","moviesId","getMoviesCast","getMoviesRevievs","children","movies","location","useLocation","className","css","map","movie","to","id","state","from","src","poster_path","require","alt","title","release_date","Date","getFullYear","useState","setMovies","useSearchParams","searchParam","setSearchParam","loading","setLoading","get","useEffect","API","then","results","data","finally","onSubmit","e","preventDefault","name","currentTarget","serchInput","value","type","autoComplete","autoFocus","placeholder","Loader","length","MoviesList"],"sourceRoot":""}